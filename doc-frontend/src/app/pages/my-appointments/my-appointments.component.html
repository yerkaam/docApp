<div class="appointments-list">
  @for (ap of appointments(); track ap._id) {
    @let doctor = getDoctorById(ap.doctorId);

    <div class="appointment-card">
      <div class="appointment-header">
        <h3>{{ doctor?.name || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –¥–æ–∫—Ç–æ—Ä' }}</h3>
        <span class="specialty">{{ doctor?.specialty || '‚Äî' }}</span>
      </div>

      <div class="appointment-info">
        <p><strong>Patient:</strong> {{ me()!.name || '‚Äî' }}</p>
        <p><strong>Email:</strong> {{ me()!.email || '‚Äî' }}</p>
        <p><strong>Date:</strong> {{ ap.date | date:'dd.MM.yyyy' }}</p>
        <p><strong>Time:</strong> {{ ap.time }}</p>
      </div>

      <div class="appointment-footer">
        <p class="payment">
          üí≥ {{ ap.paymentInfo?.method || 'without payment' }}
        </p>
        <p class="created">
          Created: {{ ap.createdAt | date:'dd.MM.yyyy, HH:mm' }}
        </p>
      </div>
    </div>
  }
</div>

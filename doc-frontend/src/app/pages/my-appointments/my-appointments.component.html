<div class="appointments-list">
  @for (ap of appointments(); track ap._id) {
    @let doctor = getDoctorById(ap.doctorId);

    <div class="appointment-card">
      <div class="appointment-header">
        <h3>{{ doctor?.name || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –¥–æ–∫—Ç–æ—Ä' }}</h3>
        <span class="specialty">{{ doctor?.specialty || '‚Äî' }}</span>
      </div>

      <div class="appointment-info">
        <p><strong>–ü–∞—Ü–∏–µ–Ω—Ç:</strong> {{ me()!.name || '‚Äî' }}</p>
        <p><strong>Email:</strong> {{ me()!.email || '‚Äî' }}</p>
        <p><strong>–î–∞—Ç–∞:</strong> {{ ap.date | date:'dd.MM.yyyy' }}</p>
        <p><strong>–í—Ä–µ–º—è:</strong> {{ ap.time }}</p>
      </div>

      <div class="appointment-footer">
        <p class="payment">
          üí≥ {{ ap.paymentInfo?.method || '–±–µ–∑ –æ–ø–ª–∞—Ç—ã' }}
        </p>
        <p class="created">
          –°–æ–∑–¥–∞–Ω–æ: {{ ap.createdAt | date:'dd.MM.yyyy, HH:mm' }}
        </p>
      </div>
    </div>
  }
</div>
